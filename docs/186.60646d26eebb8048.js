"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[186],{186:(nt,J,d)=>{d.r(J),d.d(J,{PollPage:()=>A,PollPageModule:()=>jn});var Z=d(6362),w=d(587),P=d(8139),r=d(3926),h=d(1951),m=d(4929),C=d(2340),H=d(2459),L=d(8581),D=d(2122),q=d(1353),n=d(260),M=d(6301);const N=["expandWrapper"],I=["*"];let G=(()=>{class e{constructor(t){this.renderer=t}ngAfterViewInit(){this.renderer.setStyle(this.expandWrapper.nativeElement,"height",this.expandHeight+"px")}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.Qsj))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-expandable"]],viewQuery:function(t,o){if(1&t&&n.Gf(N,5,n.SBq),2&t){let i;n.iGM(i=n.CRH())&&(o.expandWrapper=i.first)}},inputs:{expanded:"expanded",expandHeight:"expandHeight"},ngContentSelectors:I,decls:3,vars:2,consts:[[1,"expand-wrapper"],["expandWrapper",""]],template:function(t,o){1&t&&(n.F$t(),n.TgZ(0,"div",0,1),n.Hsn(2),n.qZA()),2&t&&n.ekj("collapsed",!o.expanded)},styles:["app-expandable[_ngcontent-%COMP%]   .expand-wrapper[_ngcontent-%COMP%]{transition:height 1s ease}app-expandable[_ngcontent-%COMP%]   .collapsed[_ngcontent-%COMP%]{display:none;height:0!important}"]}),e})();function Y(e,l){1&e&&(n._UZ(0,"ion-text",12),n.ALo(1,"translate")),2&e&&n.Q6J("innerHtml",n.lcZ(1,1,"poll.-page-title"),n.oJD)}function E(e,l){if(1&e&&(n.TgZ(0,"ion-text")(1,"b"),n._UZ(2,"i",13),n.qZA()()),2&e){const t=n.oxw();n.xp6(2),n.Q6J("innerHtml",t.p.title,n.oJD)}}function F(e,l){1&e&&(n.ynx(0),n._UZ(1,"ion-icon",14)(2,"ion-icon",15),n.BQk())}function z(e,l){1&e&&n._UZ(0,"ion-spinner",16)}function R(e,l){if(1&e){const t=n.EpF();n.TgZ(0,"ion-button",17),n.NdJ("click",function(){return n.CHM(t),n.oxw().checkmark_clicked()}),n._UZ(1,"ion-icon",18),n.qZA()}}function B(e,l){1&e&&(n._UZ(0,"span",13),n.ALo(1,"translate")),2&e&&n.Q6J("innerHtml",n.lcZ(1,1,"poll.delegate-button"),n.oJD)}function O(e,l){if(1&e){const t=n.EpF();n.TgZ(0,"ion-button",19),n.NdJ("click",function(i){return n.CHM(t),n.oxw().delegate_dialog(i)}),n.YNc(1,B,2,3,"span",20),n.TgZ(2,"ion-button",21),n._UZ(3,"ion-icon",22),n.qZA()()}if(2&e){const t=n.oxw();n.xp6(1),n.Q6J("ngIf",t.scroll_position<70)}}function S(e,l){if(1&e&&(n.TgZ(0,"small"),n._UZ(1,"br"),n._uU(2),n.qZA()),2&e){const t=n.oxw().$implicit;n.xp6(2),n.hij(" ",t.body," ")}}function V(e,l){if(1&e){const t=n.EpF();n.TgZ(0,"ion-card")(1,"ion-card-content",49)(2,"ion-item",50),n._uU(3," \xa0\xa0 "),n.TgZ(4,"ion-label",49),n._uU(5),n.YNc(6,S,3,1,"small",5),n.qZA(),n.TgZ(7,"ion-button",51),n.NdJ("click",function(){const a=n.CHM(t).$implicit,s=n.oxw(2);return s.news.delete(a),s.G.N.dismiss(a.key)}),n._UZ(8,"ion-icon",52),n.qZA()()()()}if(2&e){const t=l.$implicit;n.xp6(5),n.hij(" ",t.title," "),n.xp6(1),n.Q6J("ngIf",t.body)}}const W=function(e){return{language:e}};function j(e,l){if(1&e&&(n.TgZ(0,"small"),n._UZ(1,"p",13),n.ALo(2,"translate"),n.qZA()),2&e){const t=n.oxw(2);n.xp6(1),n.Q6J("innerHtml",n.xi3(2,1,"poll.different-language",n.VKq(4,W,t.G.S.language_names[t.p.language])),n.oJD)}}function $(e,l){if(1&e&&n._UZ(0,"i",13),2&e){const t=n.oxw(3);n.Q6J("innerHtml",t.p.desc,n.oJD)}}function K(e,l){1&e&&(n.TgZ(0,"span"),n._uU(1,"\xa0"),n.qZA())}function X(e,l){if(1&e){const t=n.EpF();n.TgZ(0,"small"),n._uU(1," ("),n.TgZ(2,"span",46),n.NdJ("click",function(){n.CHM(t);const i=n.oxw(3);return i.G.open_url_in_new_tab(i.G.D.fix_url(i.p.url)),i.details_expanded=!i.details_expanded}),n._UZ(3,"ion-text",45),n.ALo(4,"translate"),n._uU(5,"\xa0"),n._UZ(6,"ion-icon",55),n.qZA(),n._uU(7,") "),n.qZA()}2&e&&(n.xp6(3),n.Q6J("innerHtml",n.lcZ(4,1,"read-more"),n.oJD))}function nn(e,l){1&e&&(n.TgZ(0,"small"),n._uU(1," \xa0 ("),n._UZ(2,"ion-text",45),n.ALo(3,"translate"),n._uU(4,") "),n.qZA()),2&e&&(n.xp6(2),n.Q6J("innerHtml",n.lcZ(3,1,"hide"),n.oJD))}function tn(e,l){if(1&e){const t=n.EpF();n.TgZ(0,"ion-item",53),n.NdJ("click",function(){n.CHM(t);const i=n.oxw(2);return i.details_expanded=!i.details_expanded}),n.TgZ(1,"ion-grid",54)(2,"ion-row",27)(3,"ion-col",27)(4,"div"),n.YNc(5,$,1,1,"i",20),n.YNc(6,K,2,0,"span",5),n.YNc(7,X,8,3,"small",5),n.YNc(8,nn,5,3,"small",5),n.qZA()()()()()}if(2&e){const t=n.oxw(2);n.xp6(4),n.Akn(t.details_expanded?"white-space: normal; overflow: hidden; text-overflow: ellipsis; width: 100%!important;":"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; width: 100%!important;"),n.xp6(1),n.Q6J("ngIf",""!=(t.p.desc||"")),n.xp6(1),n.Q6J("ngIf",""!=(t.p.desc||"")&&""!=(t.p.url||"")),n.xp6(1),n.Q6J("ngIf",""!=(t.p.url||"")),n.xp6(1),n.Q6J("ngIf",t.details_expanded)}}function on(e,l){1&e&&(n._UZ(0,"ion-label",60),n.ALo(1,"translate")),2&e&&n.Q6J("innerHtml",n.lcZ(1,1,"poll.assist-me-button"),n.oJD)}function en(e,l){if(1&e){const t=n.EpF();n.TgZ(0,"ion-button",56),n.NdJ("click",function(){return n.CHM(t),n.oxw(2).assist_dialog()}),n.YNc(1,on,2,3,"ion-label",57),n._uU(2,"\xa0"),n.TgZ(3,"ion-button",58),n._UZ(4,"ion-icon",59),n.qZA()()}if(2&e){const t=n.oxw(2);n.xp6(1),n.Q6J("ngIf",t.details_expanded)}}function ln(e,l){1&e&&(n._UZ(0,"ion-badge",61),n.ALo(1,"translate")),2&e&&n.Q6J("innerHtml",n.lcZ(1,1,"badges.closing-soon"),n.oJD)}function an(e,l){1&e&&(n._UZ(0,"span",13),n.ALo(1,"translate")),2&e&&n.Q6J("innerHtml",n.lcZ(1,1,"poll.closes"),n.oJD)}function sn(e,l){1&e&&(n._UZ(0,"span",13),n.ALo(1,"translate")),2&e&&n.Q6J("innerHtml",n.lcZ(1,1,"poll.closed"),n.oJD)}function rn(e,l){1&e&&(n.TgZ(0,"ion-badge",62),n._UZ(1,"ion-icon",63),n._uU(2,"\xa0"),n._UZ(3,"span",13),n.qZA()),2&e&&(n.xp6(3),n.Q6J("innerHtml","<b>3</b> suggestions",n.oJD))}function _n(e,l){if(1&e){const t=n.EpF();n.TgZ(0,"ion-item",66)(1,"small")(2,"p"),n._UZ(3,"span",67),n.ALo(4,"translate"),n._uU(5,"\xa0"),n._UZ(6,"wbr")(7,"span",13),n.ALo(8,"translate"),n._UZ(9,"wbr"),n.TgZ(10,"span",68),n.NdJ("click",function(){return n.CHM(t),n.oxw(3).glossary("wap")}),n._UZ(11,"span",45),n.ALo(12,"translate"),n._UZ(13,"ion-icon",69),n.qZA(),n._UZ(14,"span",13),n.ALo(15,"translate"),n._uU(16," \xa0"),n._UZ(17,"wbr"),n.TgZ(18,"span",32),n._uU(19," ("),n.TgZ(20,"a",70),n.NdJ("click",function(){return n.CHM(t),n.oxw(3).assist_dialog()}),n.ALo(21,"translate"),n.qZA(),n._uU(22,") "),n.qZA()()()()}2&e&&(n.xp6(3),n.Q6J("innerHtml",n.lcZ(4,5,"poll.hint-abstaining-1"),n.oJD),n.xp6(4),n.Q6J("innerHtml",n.lcZ(8,7,"poll.hint-abstaining-2-before-wap"),n.oJD),n.xp6(4),n.Q6J("innerHtml",n.lcZ(12,9,"poll.hint-abstaining-2-wap"),n.oJD),n.xp6(3),n.Q6J("innerHtml",n.lcZ(15,11,"poll.hint-abstaining-2-after-wap"),n.oJD),n.xp6(6),n.Q6J("innerHtml",n.lcZ(21,13,"poll.assist-me-inline"),n.oJD))}function pn(e,l){if(1&e){const t=n.EpF();n.TgZ(0,"ion-item",71)(1,"small")(2,"p"),n._UZ(3,"span",67),n.ALo(4,"translate"),n._UZ(5,"wbr"),n.TgZ(6,"span",68),n.NdJ("click",function(){return n.CHM(t),n.oxw(3).glossary("wap")}),n._UZ(7,"span",72),n.ALo(8,"translate"),n._UZ(9,"ion-icon",73),n.qZA(),n._UZ(10,"span",67),n.ALo(11,"translate"),n._uU(12,"\xa0"),n._UZ(13,"wbr")(14,"span",13),n.ALo(15,"translate"),n._uU(16," \xa0"),n._UZ(17,"wbr"),n.TgZ(18,"span",32),n._uU(19," ("),n.TgZ(20,"a",70),n.NdJ("click",function(){return n.CHM(t),n.oxw(3).assist_dialog()}),n.ALo(21,"translate"),n.qZA(),n._uU(22,") "),n.qZA()()()()}2&e&&(n.xp6(3),n.Q6J("innerHtml",n.lcZ(4,5,"poll.hint-only1positive-1-before-wap"),n.oJD),n.xp6(4),n.Q6J("innerHtml",n.lcZ(8,7,"poll.hint-only1positive-1-wap"),n.oJD),n.xp6(3),n.Q6J("innerHtml",n.lcZ(11,9,"poll.hint-only1positive-1-after-wap"),n.oJD),n.xp6(4),n.Q6J("innerHtml",n.lcZ(15,11,"poll.hint-only1positive-2"),n.oJD),n.xp6(6),n.Q6J("innerHtml",n.lcZ(21,13,"poll.assist-me-inline"),n.oJD))}function cn(e,l){if(1&e){const t=n.EpF();n.TgZ(0,"ion-item",74)(1,"small")(2,"p"),n._UZ(3,"span",67),n.ALo(4,"translate"),n._UZ(5,"wbr"),n.TgZ(6,"span",68),n.NdJ("click",function(){return n.CHM(t),n.oxw(3).glossary("approve")}),n._UZ(7,"span",72),n.ALo(8,"translate"),n._UZ(9,"ion-icon",73),n.qZA(),n._UZ(10,"span",67),n.ALo(11,"translate"),n._uU(12,"\xa0"),n._UZ(13,"wbr")(14,"span",13),n.ALo(15,"translate"),n._UZ(16,"wbr"),n.TgZ(17,"span",68),n.NdJ("click",function(){return n.CHM(t),n.oxw(3).glossary("wap")}),n._UZ(18,"span",45),n.ALo(19,"translate"),n._UZ(20,"ion-icon",69),n.qZA(),n._UZ(21,"span",13),n.ALo(22,"translate"),n._uU(23," \xa0"),n._UZ(24,"wbr"),n.TgZ(25,"span",32),n._uU(26," ("),n.TgZ(27,"a",70),n.NdJ("click",function(){return n.CHM(t),n.oxw(3).assist_dialog()}),n.ALo(28,"translate"),n.qZA(),n._uU(29,") "),n.qZA()()()()}2&e&&(n.xp6(3),n.Q6J("innerHtml",n.lcZ(4,7,"poll.hint-only1approved-1-before-approving"),n.oJD),n.xp6(4),n.Q6J("innerHtml",n.lcZ(8,9,"poll.hint-only1approved-1-approving"),n.oJD),n.xp6(3),n.Q6J("innerHtml",n.lcZ(11,11,"poll.hint-only1approved-1-after-approving"),n.oJD),n.xp6(4),n.Q6J("innerHtml",n.lcZ(15,13,"poll.hint-only1approved-2-before-wap"),n.oJD),n.xp6(4),n.Q6J("innerHtml",n.lcZ(19,15,"poll.hint-only1approved-2-wap"),n.oJD),n.xp6(3),n.Q6J("innerHtml",n.lcZ(22,17,"poll.hint-only1approved-2-after-wap"),n.oJD),n.xp6(6),n.Q6J("innerHtml",n.lcZ(28,19,"poll.assist-me-inline"),n.oJD))}function dn(e,l){1&e&&(n.TgZ(0,"ion-item",75)(1,"small")(2,"p"),n._UZ(3,"span",13),n.ALo(4,"translate"),n.qZA()()()),2&e&&(n.xp6(3),n.Q6J("innerHtml",n.lcZ(4,1,"poll.hint-mostapproved-1"),n.oJD))}function gn(e,l){if(1&e&&(n.ynx(0),n.YNc(1,_n,23,15,"ion-item",64),n.YNc(2,pn,23,15,"ion-item",40),n.YNc(3,cn,30,21,"ion-item",65),n.YNc(4,dn,5,3,"ion-item",39),n.BQk()),2&e){const t=n.oxw(2);n.xp6(1),n.Q6J("ngIf",t.p.am_abstaining),n.xp6(1),n.Q6J("ngIf",1==t.p.my_n_rated_positive),n.xp6(1),n.Q6J("ngIf",1!=t.p.my_n_rated_positive&&1==t.p.my_n_approved),n.xp6(1),n.Q6J("ngIf",t.p.my_n_approved>1&&!t.p.T.approvals_map.get(t.oidsorted[0]).get(t.p.myvid))}}const T=function(){return{}};function un(e,l){1&e&&(n._UZ(0,"span",13),n.ALo(1,"translate")),2&e&&n.Q6J("innerHtml",n.xi3(1,1,"poll.reason-all-abstained",n.DdM(4,T)),n.oJD)}function hn(e,l){1&e&&(n._UZ(0,"span",13),n.ALo(1,"translate")),2&e&&n.Q6J("innerHtml",n.xi3(1,1,"poll.reason-full-consensus-unique",n.DdM(4,T)),n.oJD)}function mn(e,l){1&e&&(n._UZ(0,"span",13),n.ALo(1,"translate")),2&e&&n.Q6J("innerHtml",n.xi3(1,1,"poll.reason-full-consensus-highest",n.DdM(4,T)),n.oJD)}const xn=function(e,l){return{approval:e,disapproval:l}};function fn(e,l){if(1&e&&(n._UZ(0,"span",13),n.ALo(1,"translate")),2&e){const t=n.oxw(3);n.Q6J("innerHtml",n.xi3(1,1,"poll.reason-largest-approval",n.WLB(4,xn,t.Math.round(t.p.T.approval_scores_map.get(t.oidsorted[0])/t.p.T.n_not_abstaining*1e3)/10,100-t.Math.round(t.p.T.approval_scores_map.get(t.oidsorted[0])/t.p.T.n_not_abstaining*1e3)/10)),n.oJD)}}const Zn=function(e){return{share:e}};function wn(e,l){if(1&e&&(n._UZ(0,"span",13),n.ALo(1,"translate")),2&e){const t=n.oxw(3);n.Q6J("innerHtml",n.xi3(1,1,"poll.reason-smaller-approval",n.VKq(4,Zn,t.Math.round(1e3*t.p.T.shares_map.get(t.p.winner))/10)),n.oJD)}}const Pn=function(e){return{winner:e}};function Tn(e,l){if(1&e&&(n.ynx(0),n.TgZ(1,"ion-item",75),n._UZ(2,"p",13),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"ion-item",66)(5,"h3"),n._UZ(6,"b",13),n.ALo(7,"translate"),n.qZA()(),n.TgZ(8,"ion-item",71)(9,"p"),n._UZ(10,"b",13),n.ALo(11,"translate"),n._uU(12,"\xa0 "),n.YNc(13,un,2,5,"span",20),n.YNc(14,hn,2,5,"span",20),n.YNc(15,mn,2,5,"span",20),n.YNc(16,fn,2,7,"span",20),n.YNc(17,wn,2,6,"span",20),n.qZA()(),n.BQk()),2&e){const t=n.oxw(2);n.xp6(2),n.Q6J("innerHtml",n.lcZ(3,8,"poll.results"),n.oJD),n.xp6(4),n.Q6J("innerHtml",n.xi3(7,10,"poll.winner-is",n.VKq(15,Pn,t.p.options[t.p.winner].name)),n.oJD),n.xp6(4),n.Q6J("innerHtml",n.lcZ(11,13,"poll.reason"),n.oJD),n.xp6(3),n.Q6J("ngIf",0==t.p.T.n_not_abstaining),n.xp6(1),n.Q6J("ngIf",t.p.T.n_not_abstaining>0&&t.p.T.approval_scores_map.get(t.oidsorted[0])==t.p.T.n_not_abstaining&&t.p.T.approval_scores_map.get(t.oidsorted[1])<t.p.T.n_not_abstaining),n.xp6(1),n.Q6J("ngIf",t.p.T.n_not_abstaining>0&&t.p.T.approval_scores_map.get(t.oidsorted[0])==t.p.T.n_not_abstaining&&t.p.T.approval_scores_map.get(t.oidsorted[1])==t.p.T.n_not_abstaining),n.xp6(1),n.Q6J("ngIf",t.p.T.n_not_abstaining>0&&t.p.T.approval_scores_map.get(t.oidsorted[0])<t.p.T.n_not_abstaining&&t.p.winner==t.oidsorted[0]),n.xp6(1),n.Q6J("ngIf",t.p.T.n_not_abstaining>0&&t.p.T.approval_scores_map.get(t.oidsorted[0])<t.p.T.n_not_abstaining&&t.p.winner!=t.oidsorted[0])}}const vn=function(e,l){return{share:e,option:l}};function Jn(e,l){if(1&e&&(n.ynx(0),n.TgZ(1,"h3")(2,"b"),n._UZ(3,"span",13),n.ALo(4,"translate"),n.qZA()(),n.BQk()),2&e){const t=n.oxw().index,o=n.oxw(3);n.xp6(3),n.Q6J("innerHtml",n.xi3(4,1,"poll.of-the-budget-go-to",n.WLB(4,vn,o.Math.round(1e3*o.p.T.shares_map.get(o.oidsorted[t]))/10,o.p.options[o.oidsorted[t]].name)),n.oJD)}}function yn(e,l){if(1&e&&(n.ynx(0),n.YNc(1,Jn,5,7,"ng-container",5),n.BQk()),2&e){const t=l.index,o=n.oxw(3);n.xp6(1),n.Q6J("ngIf",o.p.T.shares_map.get(o.oidsorted[t])>0)}}const y=function(){return[]};function bn(e,l){if(1&e&&(n.ynx(0),n.TgZ(1,"ion-item",75),n._UZ(2,"p",13),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"ion-item",66)(5,"ion-text"),n.YNc(6,yn,2,1,"ng-container",25),n.qZA()(),n.BQk()),2&e){const t=n.oxw(2);n.xp6(2),n.Q6J("innerHtml",n.lcZ(3,2,"poll.results"),n.oJD),n.xp6(4),n.Q6J("ngForOf",n.DdM(4,y).constructor(t.oidsorted.length))}}function An(e,l){if(1&e){const t=n.EpF();n.TgZ(0,"ion-item",76),n.NdJ("click",function(){n.CHM(t);const i=n.oxw(2);return i.final_expanded=!i.final_expanded}),n._UZ(1,"ion-icon",77),n._uU(2,"\xa0\xa0"),n.TgZ(3,"ion-label"),n._UZ(4,"span",13),n.ALo(5,"translate"),n.qZA()()}if(2&e){const t=n.oxw(2);n.xp6(1),n.Q6J("name",t.final_expanded?"caret-down-outline":"caret-forward-outline"),n.xp6(3),n.Q6J("innerHtml",n.lcZ(5,2,"poll.final-ratings"),n.oJD)}}const Un=function(e){return{n_others:e}};function kn(e,l){if(1&e&&(n._UZ(0,"span",13),n.ALo(1,"translate")),2&e){const t=n.oxw(3);n.Q6J("innerHtml",n.xi3(1,1,1==t.n_indirect_clients?"poll.also-for-other":"poll.also-for-others",n.VKq(4,Un,t.n_indirect_clients))+" ",n.oJD)}}function Qn(e,l){if(1&e&&(n._UZ(0,"span",13),n.ALo(1,"translate")),2&e){const t=n.oxw(3);n.Q6J("innerHtml",n.lcZ(1,1,0==t.n_indirect_clients?"poll.declined-all":"poll.declined-some"),n.oJD)}}function Cn(e,l){if(1&e&&(n.TgZ(0,"ion-chip",83),n._UZ(1,"ion-icon",84),n.TgZ(2,"small"),n._uU(3),n.qZA()()),2&e){const t=l.$implicit;n.Q6J("routerLink",t.url),n.xp6(3),n.Oqu(t.from)}}function Hn(e,l){if(1&e&&(n.TgZ(0,"ion-row")(1,"ion-col",81)(2,"small"),n._UZ(3,"span",13),n.ALo(4,"translate"),n.YNc(5,Cn,4,2,"ion-chip",82),n.qZA()()()),2&e){const t=n.oxw(3);n.xp6(3),n.Q6J("innerHtml",n.lcZ(4,2,"poll.have-accepted"),n.oJD),n.xp6(2),n.Q6J("ngForOf",t.accepted_requests)}}function Ln(e,l){if(1&e&&(n.TgZ(0,"ion-chip",83),n._UZ(1,"ion-icon",84),n.TgZ(2,"small"),n._uU(3),n.qZA()()),2&e){const t=l.$implicit;n.Q6J("routerLink",t.url),n.xp6(3),n.Oqu(t.from)}}function Dn(e,l){if(1&e&&(n.TgZ(0,"ion-row")(1,"ion-col",81)(2,"small"),n._UZ(3,"span",13),n.ALo(4,"translate"),n.YNc(5,Ln,4,2,"ion-chip",82),n.qZA()()()),2&e){const t=n.oxw(3);n.xp6(3),n.Q6J("innerHtml",n.lcZ(4,2,"poll.have-declined"),n.oJD),n.xp6(2),n.Q6J("ngForOf",t.declined_requests)}}function qn(e,l){if(1&e){const t=n.EpF();n.TgZ(0,"ion-item",75)(1,"ion-grid",27)(2,"ion-row",78),n.NdJ("click",function(){n.CHM(t);const i=n.oxw(2);return i.incoming_delegation_expanded=!i.incoming_delegation_expanded}),n.TgZ(3,"ion-col",79)(4,"small"),n._UZ(5,"ion-icon",80),n.YNc(6,kn,2,6,"span",20),n.YNc(7,Qn,2,3,"span",20),n._uU(8," \xa0 "),n.qZA()()(),n.YNc(9,Hn,6,4,"ion-row",5),n.YNc(10,Dn,6,4,"ion-row",5),n.qZA()()}if(2&e){const t=n.oxw(2);n.xp6(5),n.Q6J("name",t.incoming_delegation_expanded?"chevron-down-outline":"chevron-forward-outline"),n.xp6(1),n.Q6J("ngIf",t.accepted_requests.length>0),n.xp6(1),n.Q6J("ngIf",t.declined_requests.length>0),n.xp6(2),n.Q6J("ngIf",t.incoming_delegation_expanded&&t.accepted_requests.length>0),n.xp6(1),n.Q6J("ngIf",t.incoming_delegation_expanded&&t.declined_requests.length>0)}}function Mn(e,l){if(1&e){const t=n.EpF();n.TgZ(0,"ion-item",71)(1,"ion-grid",27)(2,"ion-row",85)(3,"ion-col",79)(4,"small")(5,"p")(6,"span",86),n._uU(7),n.qZA(),n._uU(8,"\xa0 "),n._UZ(9,"span",13),n.ALo(10,"translate"),n.qZA()()(),n.TgZ(11,"ion-col",87)(12,"ion-button",88),n.NdJ("click",function(){return n.CHM(t),n.oxw(2).revoke_delegation_dialog()}),n._UZ(13,"ion-icon",89),n.qZA()()()()()}if(2&e){const t=n.oxw(2);n.xp6(7),n.Oqu(t.delegate),n.xp6(2),n.Q6J("innerHtml",n.lcZ(10,3,"poll.delegate-not-responded"),n.oJD),n.xp6(3),n.Q6J("disabled",!t.p.allow_voting)}}function Nn(e,l){if(1&e){const t=n.EpF();n.TgZ(0,"ion-item",71)(1,"ion-grid",27)(2,"ion-row",85)(3,"ion-col",79)(4,"small")(5,"p")(6,"span",86),n._uU(7),n.qZA(),n._uU(8,"\xa0 "),n._UZ(9,"span",13),n.ALo(10,"translate"),n.qZA()()(),n.TgZ(11,"ion-col",87)(12,"ion-button",90),n.NdJ("click",function(){return n.CHM(t),n.oxw(2).revoke_delegation_dialog()}),n._UZ(13,"ion-icon",89),n.qZA(),n._uU(14,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 "),n.qZA(),n.TgZ(15,"ion-col",91)(16,"small")(17,"p"),n._UZ(18,"span",13),n.ALo(19,"translate"),n._uU(20,"\xa0 "),n._UZ(21,"ion-icon",92),n.qZA()()()()()()}if(2&e){const t=n.oxw(2);n.xp6(7),n.Oqu(t.delegate),n.xp6(2),n.Q6J("innerHtml",n.lcZ(10,3,"poll.delegate-controls-"+(t.n_delegated==t.oidsorted.length?"all":2*t.n_delegated>t.oidsorted.length?"most":t.n_delegated>0?"some":"none")),n.oJD),n.xp6(9),n.Q6J("innerHtml",n.lcZ(19,5,"poll.choose-whose-ratings"),n.oJD)}}const In=function(e){return{delegate:e}};function Gn(e,l){if(1&e){const t=n.EpF();n.O4$(),n.kcU(),n.TgZ(0,"ion-col",128),n._uU(1,"\xa0\xa0\xa0 "),n.TgZ(2,"ion-toggle",129),n.NdJ("ionChange",function(){n.CHM(t);const i=n.oxw().index,a=n.oxw(2);return a.on_rate_yourself_toggle_change(a.oidsorted[i])})("ngModelChange",function(i){n.CHM(t);const a=n.oxw().index,s=n.oxw(2);return s.rate_yourself_toggle[s.oidsorted[a]]=i}),n.qZA(),n.TgZ(3,"div",130),n._UZ(4,"small",13),n.ALo(5,"translate"),n.ALo(6,"translate"),n.qZA()()}if(2&e){const t=n.oxw().index,o=n.oxw(2);n.xp6(2),n.Q6J("id","rate_yourself_toggle_"+o.oidsorted[t])("disabled",!o.p.allow_voting)("ngModel",o.rate_yourself_toggle[o.oidsorted[t]]),n.xp6(2),n.Q6J("innerHtml",o.rate_yourself_toggle[o.oidsorted[t]]?n.lcZ(5,4,"poll.my-own"):n.xi3(6,6,"poll.delegate-s",n.VKq(9,In,o.delegate)),n.oJD)}}const Yn=function(e){return{average:e}};function En(e,l){if(1&e&&(n.TgZ(0,"span",131),n._uU(1,", "),n._UZ(2,"span",123),n.ALo(3,"translate"),n.qZA()),2&e){const t=n.oxw().index,o=n.oxw(2);n.xp6(2),n.Q6J("innerHtml",n.xi3(3,1,"poll.average-rating",n.VKq(4,Yn,o.Math.round(o.p.T.total_effective_ratings_map.get(o.oidsorted[t])/o.Math.max(1,o.p.T.n_not_abstaining)*10)/10)),n.oJD)}}const b=function(e){return{percentage:e}};function Fn(e,l){if(1&e){const t=n.EpF();n.TgZ(0,"ion-item",93)(1,"ion-grid",27)(2,"ion-row",27)(3,"ion-col",94),n._UZ(4,"div",95),n.O4$(),n.TgZ(5,"svg",96),n._UZ(6,"circle",97)(7,"path",98)(8,"line",99),n.qZA()(),n.kcU(),n.TgZ(9,"ion-col")(10,"ion-grid",27)(11,"ion-row",100),n.NdJ("click",function(){const a=n.CHM(t).index,s=n.oxw(2);return s.expand(s.oidsorted[a])}),n.TgZ(12,"ion-col",27),n._UZ(13,"ion-input",101),n.TgZ(14,"ion-label",102),n._UZ(15,"ion-icon",103),n.TgZ(16,"b")(17,"i"),n._uU(18,"\xa0"),n._UZ(19,"span",13),n._uU(20,"\xa0"),n.qZA()()()()(),n.TgZ(21,"ion-row",27)(22,"ion-col",104),n.NdJ("click",function(i){const s=n.CHM(t).index,_=n.oxw(2);return _.onRatingColClick(_.oidsorted[s],i)})("pointerdown",function(i){const s=n.CHM(t).index,_=n.oxw(2);return _.onRatingColPointerdown(_.oidsorted[s],i)})("touchstart",function(i){const s=n.CHM(t).index,_=n.oxw(2);return _.onRatingColTouchstart(_.oidsorted[s],i)})("touchup",function(i){const s=n.CHM(t).index,_=n.oxw(2);return _.onRatingColTouchup(_.oidsorted[s],i)})("pointerup",function(i){const s=n.CHM(t).index,_=n.oxw(2);return _.onRatingColPointerup(_.oidsorted[s],i)}),n.TgZ(23,"ion-range",105),n.NdJ("ionFocus",function(){const a=n.CHM(t).index,s=n.oxw(2);return s.onRatingSliderFocus(s.oidsorted[a])})("ionChange",function(){const a=n.CHM(t).index,s=n.oxw(2);return s.onRatingSliderChange(s.oidsorted[a])})("ionBlur",function(){const a=n.CHM(t).index,s=n.oxw(2);return s.onRatingSliderBlur(s.oidsorted[a])}),n.TgZ(24,"ion-label",106)(25,"div",107),n.O4$(),n.TgZ(26,"svg",108),n._UZ(27,"rect",109)(28,"line",110)(29,"line",111),n.qZA()(),n.kcU(),n.TgZ(30,"div",112),n.O4$(),n.TgZ(31,"svg",113),n._UZ(32,"text",114),n.qZA()(),n.kcU(),n.TgZ(33,"div",115),n.O4$(),n.TgZ(34,"svg",116),n._UZ(35,"line",117)(36,"circle",118),n.qZA()()()()(),n.YNc(37,Gn,7,11,"ion-col",119),n.qZA()()()(),n.kcU(),n.TgZ(38,"ion-row",27)(39,"ion-col",27)(40,"ion-grid",27)(41,"app-expandable",120)(42,"ion-row",121)(43,"ion-col",27)(44,"b")(45,"span",122),n._UZ(46,"span",123),n.ALo(47,"translate"),n.TgZ(48,"small"),n._UZ(49,"wbr")(50,"span",124),n.ALo(51,"translate"),n._uU(52,", "),n.qZA()(),n.TgZ(53,"small"),n._UZ(54,"wbr"),n.qZA(),n.TgZ(55,"span",125),n._UZ(56,"span",13),n.ALo(57,"translate"),n.qZA(),n.TgZ(58,"small"),n._UZ(59,"span",126),n.ALo(60,"translate"),n.qZA(),n.TgZ(61,"small"),n.YNc(62,En,4,6,"span",127),n._uU(63,"\xa0 "),n.TgZ(64,"span",125),n._uU(65," ("),n.TgZ(66,"a",70),n.NdJ("click",function(){const a=n.CHM(t).index,s=n.oxw(2);return s.explain_approval_dialog(s.oidsorted[a])}),n.ALo(67,"translate"),n.qZA(),n._uU(68,") "),n.qZA()()(),n.TgZ(69,"span"),n._UZ(70,"br"),n.qZA(),n.TgZ(71,"span")(72,"i"),n._UZ(73,"span",13),n._uU(74,"\xa0\xa0"),n.qZA()(),n.TgZ(75,"span")(76,"small"),n._uU(77," ("),n.TgZ(78,"span",46),n.NdJ("click",function(){const a=n.CHM(t).index,s=n.oxw(2);return s.G.open_url_in_new_tab(s.G.D.fix_url(s.p.options[s.oidsorted[a]].url))}),n._UZ(79,"ion-text",45),n.ALo(80,"translate"),n._uU(81,"\xa0"),n._UZ(82,"ion-icon",55),n.qZA(),n._uU(83,") "),n.qZA()()()()()()()()()()}if(2&e){const t=l.index,o=n.oxw(2);n.xp6(7),n.Q6J("id","pie_"+o.oidsorted[t]),n.xp6(1),n.uIk("display",o.option_expanded[o.oidsorted[t]]?"inline":"none"),n.xp6(7),n.Q6J("name",o.option_expanded[o.oidsorted[t]]?"chevron-down-outline":"chevron-forward-outline"),n.xp6(4),n.Q6J("innerHtml",o.p.options[o.oidsorted[t]].name,n.oJD),n.xp6(3),n.Q6J("id","_slider_"+o.oidsorted[t]+"_"+o.sortingcounter),n.xp6(1),n.Akn(o.rate_yourself_toggle[o.oidsorted[t]]||"agreed"!=o.delegation_status?"pointer-events:; --bar-height: 7px; --knob-size: 35px":"pointer-events: none; --bar-height: 5px; --knob-size: 17px"),n.Q6J("disabled",!o.p.allow_voting)("id","slider_"+o.oidsorted[t]+"_"+o.sortingcounter)("color",o.slidercolor[o.oidsorted[t]])("value",o.p.get_my_proxy_rating(o.oidsorted[t])),n.xp6(4),n.Q6J("id","bar_"+o.oidsorted[t]),n.xp6(4),n.uIk("display",o.option_expanded[o.oidsorted[t]]?"inline":"none"),n.xp6(1),n.Q6J("innerHtml",o.Math.round(o.p.T.approval_scores_map.get(o.oidsorted[t])/o.Math.max(1,o.p.T.n_not_abstaining)*1e3)/10+"%\xa0\xa0",n.oJD),n.xp6(1),n.Udp("display","agreed"==o.delegation_status&&o.rate_yourself_toggle[o.oidsorted[t]]?"inline":"none"),n.xp6(2),n.Q6J("id","del_needle_"+o.oidsorted[t]),n.xp6(1),n.Q6J("id","del_knob_"+o.oidsorted[t]),n.xp6(1),n.Q6J("ngIf","agreed"==o.delegation_status),n.xp6(4),n.Q6J("id","expander_"+o.oidsorted[t]+"_"+o.sortingcounter)("expanded",o.option_expanded[o.oidsorted[t]]),n.xp6(5),n.Q6J("innerHtml",n.xi3(47,39,"winner"==o.p.type?o.p.allow_voting?"poll.chance-to-win":"poll.final-chance-to-win":o.p.allow_voting?"poll.of-the-budget":"poll.final-budget",n.VKq(53,b,o.Math.round(1e3*o.p.T.shares_map.get(o.oidsorted[t]))/10)),n.oJD),n.xp6(4),n.Udp("display",o.votedfor==o.oidsorted[t]?"inline":"none"),n.Q6J("innerHtml",n.lcZ(51,42,"poll.including-your-share"),n.oJD),n.xp6(6),n.Q6J("innerHtml",n.xi3(57,44,"poll.approved-by",n.VKq(55,b,o.Math.round(o.p.T.approval_scores_map.get(o.oidsorted[t])/o.Math.max(1,o.p.T.n_not_abstaining)*1e3)/10)),n.oJD),n.xp6(3),n.Udp("display",o.approved[o.oidsorted[t]]?"inline":"none"),n.Q6J("innerHtml",n.lcZ(60,47,"poll.including-you"),n.oJD),n.xp6(3),n.Q6J("ngIf",t>0&&o.p.T.approval_scores_map.get(o.oidsorted[t-1])==o.p.T.approval_scores_map.get(o.oidsorted[t])||t<o.oidsorted.length-1&&o.p.T.approval_scores_map.get(o.oidsorted[t+1])==o.p.T.approval_scores_map.get(o.oidsorted[t])),n.xp6(4),n.Q6J("innerHtml",n.lcZ(67,49,"poll.explain"),n.oJD),n.xp6(3),n.Udp("display",o.p.options[o.oidsorted[t]].desc||o.p.options[o.oidsorted[t]].url?"inline":"none"),n.xp6(2),n.Udp("display",""!=o.p.options[o.oidsorted[t]].desc?"inline":"none"),n.xp6(2),n.Q6J("innerHtml",o.p.options[o.oidsorted[t]].desc,n.oJD),n.xp6(2),n.Udp("display",""!=o.p.options[o.oidsorted[t]].url?"inline":"none"),n.xp6(4),n.Q6J("innerHtml",n.lcZ(80,51,"read-more"),n.oJD)}}function zn(e,l){if(1&e){const t=n.EpF();n.ynx(0),n.TgZ(1,"ion-item",132)(2,"ion-fab-button",133),n.NdJ("click",function(i){return n.CHM(t),n.oxw(2).add_option(i)}),n._UZ(3,"ion-icon",134),n.qZA(),n.TgZ(4,"ion-button",135),n.NdJ("click",function(i){return n.CHM(t),n.oxw(2).add_option(i)}),n.ALo(5,"translate"),n.qZA()(),n.TgZ(6,"ion-item",136),n._UZ(7,"small",13),n.ALo(8,"translate"),n.qZA(),n.BQk()}2&e&&(n.xp6(4),n.Q6J("innerHtml",n.lcZ(5,2,"poll.add-option"),n.oJD),n.xp6(3),n.Q6J("innerHtml",n.lcZ(8,4,"poll.add-option-info"),n.oJD))}function Rn(e,l){if(1&e){const t=n.EpF();n.ynx(0),n._UZ(1,"ion-item"),n.TgZ(2,"ion-item",137)(3,"ion-col")(4,"small")(5,"p",138),n._uU(6),n.qZA()()(),n.TgZ(7,"ion-buttons",6)(8,"ion-toggle",139),n.NdJ("ngModelChange",function(i){return n.CHM(t),n.oxw(2).p.allow_voting=i}),n.qZA()()(),n.BQk()}if(2&e){const t=n.oxw(2);n.xp6(6),n.gL8(" Debugging info: state=",t.p.state,", vid=",t.p.myvid,", oids=",t.p.oids,", oidsorted=",t.oidsorted,"/",t.p.T.oids_descending,", scores_map=",t.G.map2str(t.p.T.scores_map),". Simulate state (off:closed, on:running): "),n.xp6(2),n.Q6J("ngModel",t.p.allow_voting)}}function Bn(e,l){if(1&e){const t=n.EpF();n.TgZ(0,"ion-content",23),n.NdJ("pointerup",function(i){return n.CHM(t),n.oxw().onBodyPointerup(i)})("ionScroll",function(i){return n.CHM(t),n.oxw().onScroll(i)}),n.TgZ(1,"ion-list",24),n.YNc(2,V,9,2,"ion-card",25),n.TgZ(3,"ion-item",26)(4,"ion-grid",27)(5,"ion-row",27)(6,"ion-col",27),n.YNc(7,j,3,6,"small",5),n.TgZ(8,"h3")(9,"b"),n._UZ(10,"i",13),n.qZA()()()()()(),n.YNc(11,tn,9,6,"ion-item",28),n.TgZ(12,"ion-item",29)(13,"ion-grid",27)(14,"ion-row",27)(15,"ion-col",30),n.YNc(16,en,5,1,"ion-button",31),n.TgZ(17,"small")(18,"span",32),n.YNc(19,ln,2,3,"ion-badge",33),n.YNc(20,an,2,3,"span",20),n.YNc(21,sn,2,3,"span",20),n._uU(22,"\xa0"),n._UZ(23,"b",13),n.qZA(),n._uU(24,"\xa0\xa0\xa0\xa0 "),n.TgZ(25,"span",32),n._UZ(26,"ion-icon",34),n._uU(27,"\xa0"),n._UZ(28,"span",13),n.ALo(29,"translate"),n.qZA()(),n._UZ(30,"br"),n.TgZ(31,"small",32)(32,"span",32),n._UZ(33,"ion-icon",35),n._uU(34,"\xa0"),n.TgZ(35,"b"),n._uU(36),n.qZA(),n._uU(37,"\xa0"),n.TgZ(38,"span",36),n.NdJ("click",function(){return n.CHM(t),n.oxw().glossary("non-abstaining")}),n.ALo(39,"translate"),n.qZA(),n._uU(40,"\xa0\xa0\xa0 "),n._UZ(41,"br"),n.qZA()(),n.TgZ(42,"small",32)(43,"span",32),n._UZ(44,"ion-icon",34),n.TgZ(45,"b"),n._uU(46),n.qZA(),n._uU(47,"%\xa0"),n.TgZ(48,"span",36),n.NdJ("click",function(){return n.CHM(t),n.oxw().glossary("level-of-agreement")}),n.ALo(49,"translate"),n.qZA()(),n._uU(50,"\xa0\xa0\xa0 "),n.YNc(51,rn,4,1,"ion-badge",37),n.qZA()()()()(),n.YNc(52,gn,5,4,"ng-container",5),n.YNc(53,Tn,18,17,"ng-container",5),n.YNc(54,bn,7,5,"ng-container",5),n.YNc(55,An,6,4,"ion-item",38),n.TgZ(56,"div"),n.YNc(57,qn,11,5,"ion-item",39),n.YNc(58,Mn,14,5,"ion-item",40),n.YNc(59,Nn,22,7,"ion-item",40),n.TgZ(60,"ion-item",41)(61,"small",42),n.NdJ("click",function(){return n.CHM(t),n.oxw().glossary("share")}),n._UZ(62,"span",43),n.ALo(63,"translate"),n.qZA(),n.TgZ(64,"small",44),n.NdJ("click",function(){return n.CHM(t),n.oxw().glossary("wap")}),n._UZ(65,"span",45),n.ALo(66,"translate"),n.qZA(),n.TgZ(67,"small",46),n.NdJ("click",function(){return n.CHM(t),n.oxw().glossary("approve")}),n._UZ(68,"ion-icon",47)(69,"span",45),n.ALo(70,"translate"),n.qZA()(),n.YNc(71,Fn,84,57,"ion-item",48),n.YNc(72,zn,9,6,"ng-container",5),n.qZA(),n.YNc(73,Rn,9,7,"ng-container",5),n.qZA()()}if(2&e){const t=n.oxw();n.Q6J("scrollEvents",!0),n.xp6(2),n.Q6J("ngForOf",t.news),n.xp6(5),n.Q6J("ngIf",!!t.p.language&&t.p.language!=t.G.S.language),n.xp6(3),n.Q6J("innerHtml",t.p.title,n.oJD),n.xp6(1),n.Q6J("ngIf",""!=(t.p.desc||"")||""!=(t.p.url||"")),n.xp6(5),n.Q6J("ngIf",t.p.allow_voting),n.xp6(3),n.Q6J("ngIf",t.p.allow_voting&&t.p.is_closing_soon),n.xp6(1),n.Q6J("ngIf",t.p.allow_voting&&!t.p.is_closing_soon),n.xp6(1),n.Q6J("ngIf",!t.p.allow_voting),n.xp6(2),n.Q6J("innerHtml",t.G.D.format_date(t.p.due),n.oJD),n.xp6(3),n.Q6J("name","share"==t.p.type?"cut-outline":"trophy-outline"),n.xp6(2),n.Q6J("innerHtml",n.lcZ(29,35,"share"==t.p.type?"poll.type-share":"poll.type-winner"),n.oJD),n.xp6(8),n.Oqu(t.p.T.n_not_abstaining),n.xp6(2),n.Q6J("innerHtml",n.lcZ(39,37,"non-abstaining-voters"),n.oJD),n.xp6(6),n.Q6J("name",1==t.p.agreement_level?"checkmark-done-outline":"analytics-outline"),n.xp6(2),n.hij("\xa0",t.Math.round(1e3*t.p.agreement_level)/10,""),n.xp6(2),n.Q6J("innerHtml",n.lcZ(49,39,"level-of-agreement"),n.oJD),n.xp6(3),n.Q6J("ngIf",!1),n.xp6(1),n.Q6J("ngIf",t.p.allow_voting),n.xp6(1),n.Q6J("ngIf",t.p.has_results&&"winner"==t.p.type),n.xp6(1),n.Q6J("ngIf",t.p.has_results&&"share"==t.p.type),n.xp6(1),n.Q6J("ngIf",!t.p.allow_voting),n.xp6(1),n.Udp("display",t.p.allow_voting||t.final_expanded?"block":"none"),n.xp6(1),n.Q6J("ngIf",t.accepted_requests.length>0||t.declined_requests.length>0),n.xp6(1),n.Q6J("ngIf","pending"==t.delegation_status),n.xp6(1),n.Q6J("ngIf","agreed"==t.delegation_status),n.xp6(3),n.Q6J("innerHtml",n.lcZ(63,41,"share"),n.oJD),n.xp6(3),n.Q6J("innerHtml",n.lcZ(66,43,"wap"),n.oJD),n.xp6(2),n.Akn("padding-top: 8px!important; padding-right: "+("agreed"==t.delegation_status?62:10)+"px; color: #769596;"),n.xp6(2),n.Q6J("innerHtml",n.lcZ(70,45,"approval"),n.oJD),n.xp6(2),n.Q6J("ngForOf",n.DdM(47,y).constructor(t.oidsorted.length)),n.xp6(1),n.Q6J("ngIf",t.p.allow_voting),n.xp6(1),n.Q6J("ngIf",!1)}}function On(e,l){if(1&e){const t=n.EpF();n.TgZ(0,"ion-footer",140)(1,"ion-item",75)(2,"ion-text")(3,"ion-button",141),n.NdJ("click",function(){return n.CHM(t),n.oxw().dismiss_glossary()}),n._UZ(4,"ion-icon",142),n.qZA(),n._UZ(5,"small",13),n.ALo(6,"translate"),n.qZA()()()}if(2&e){const t=n.oxw();n.xp6(5),n.Q6J("innerHtml",n.lcZ(6,1,"glossary."+t.glossary_key),n.oJD)}}let A=(()=>{class e{constructor(t,o,i,a,s,_,p,g,c,x){this.changeDetector=t,this.router=o,this.route=i,this.routerOutlet=a,this.loadingController=s,this.alertCtrl=_,this.popover=p,this.modalController=g,this.translate=c,this.G=x,this.Array=Array,this.Math=Math,this.Object=Object,this.window=window,this.environment=C.N,this.page="poll",this.delegation_status="none",this.n_indirect_clients=1,this.accepted_requests=[],this.declined_requests=[],this.oidsorted=[],this.sortingcounter=0,this.approved={},this.votedfor=null,this.final_expanded=!1,this.details_expanded=!0,this.incoming_delegation_expanded=!1,this.option_expanded={},this.pieradius=20,this.two_pi=2*Math.PI,this.slidercolor={},this.refresh_paused=!1,this.needs_refresh=!1,this.scroll_position=0,this.rate_yourself_toggle={},this.n_delegated=0,this.news=new Set,this.ready=!1,this.listeners=new Map,this.final_rand=0,this.dragged_oid=void 0,this.currentModal=null,this.show_glossary=!1,this.G.L.entry("PollsPage.constructor"),this.route.params.subscribe(f=>{this.pid=f.pid})}ngOnInit(){this.G.L.entry("PollsPage.ngOnInit")}ionViewWillEnter(){this.G.L.entry("PollPage.ionViewWillEnter"),this.G.D.page=this;const t=i=>{this.changeDetector.detectChanges()};window.addEventListener("offline",t),window.addEventListener("online",t);const o=JSON.parse(this.G.D.getp(this.pid,"poll_page")||"{}");this.details_expanded=0!=o.details_expanded,this.incoming_delegation_expanded=1==o.incoming_delegation_expanded,this.option_expanded=o.option_expanded||{},this.G.L.exit("PollPage.ionViewWillEnter",o)}ionViewDidEnter(){this.G.L.entry("PollPage.ionViewDidEnter"),this.G.D.ready&&this.onDataReady(),this.G.L.debug("PollPage.ready:",this.ready)}onDataReady(){if(this.G.L.entry("PollPage.onDataReady"),!(this.pid in this.G.P.polls))return this.G.L.warn("PollPage unknown pid ignored, redirecting to mypolls page",this.pid,this.G.P.polls),void this.router.navigate(["/mypolls"]);this.p=this.G.P.polls[this.pid],"draft"==this.p.state?(this.G.L.error("PollPage not showing draft poll, redirecting to mypolls page",this.pid),this.router.navigate(["/mypolls"])):this.G.L.info("PollPage showing poll",this.pid),this.p.tally_all(),this.oidsorted=[...this.p.T.oids_descending],this.ready=!0,this.update_order(!0),window.setTimeout(()=>{this.update_order.bind(this)(!0),this.show_stats.bind(this)()},200),this.update_delegation_info(),this.on_delegate_toggle_change(),this.p.have_seen=!0,this.G.L.exit("PollPage.onDataReady")}onDataChange(){this.G.L.entry("PollPage.onDataChange"),this.p.tally_all(),this.update_order(),this.update_delegation_info(),this.news=this.G.N.filter({pid:this.pid}),this.changeDetector.detectChanges(),this.G.L.exit("PollPage.onDataChange")}ionViewWillLeave(){for(let o of this.oidsorted)(!this.delegate||this.rate_yourself_toggle[o])&&this.p.set_my_own_rating(o,Math.round(this.get_slider_value(o)),!0);for(const o of this.news)o.auto_dismiss&&this.G.N.dismiss(o.key);const t={details_expanded:this.details_expanded,incoming_delegation_expanded:this.incoming_delegation_expanded,option_expanded:this.option_expanded};this.G.D.setp(this.pid,"poll_page",JSON.stringify(t)),this.G.L.exit("PollPage.ionViewWillLeave",t)}ionViewDidLeave(){this.G.L.entry("PollPage.ionViewDidLeave"),this.G.D.save_state(),this.G.L.exit("PollPage.ionViewDidLeave")}update_delegation_info(){this.n_indirect_clients=this.p.get_n_indirect_clients(this.p.myvid);const t=this.G.D.incoming_dids_caches[this.pid];if(this.accepted_requests=[],this.declined_requests=[],t)for(const[i,[a,s,_]]of t)"agreed"==_?this.accepted_requests.push({from:a,url:s}):_.startsWith("declined")&&this.declined_requests.push({from:a,url:s});const o=this.G.Del.get_my_outgoing_dids_cache(this.pid).get("*");if(this.G.L.trace("PollPage.update_delegation_info did",o),o){this.delegate=this.G.Del.get_delegate_nickname(this.pid,o);const i=this.G.Del.get_agreement(this.pid,o);this.G.L.trace("PollPage.update_delegation_info agreement",i),this.delegation_status=i.status}this.update_delegation_toggles()}update_delegation_toggles(){for(let t of this.oidsorted){let o=this.G.Del.get_my_outgoing_dids_cache(this.pid).get(t);if(o||(o=this.G.Del.get_my_outgoing_dids_cache(this.pid).get("*")),o){const i=this.G.Del.get_agreement(this.pid,o);this.G.L.trace("PollPage found did, agreement",t,o,i,[...i.accepted_oids],[...i.active_oids]),this.rate_yourself_toggle[t]=!i.active_oids.has(t)}else this.G.L.trace("PollPage found no did for",t),this.rate_yourself_toggle[t]=!0}}onScroll(t){return(0,m.mG)(this,void 0,void 0,function*(){this.scroll_position=t.detail.scrollTop})}on_rate_yourself_toggle_change(t){this.G.Del.update_my_delegation(this.pid,t,!this.rate_yourself_toggle[t]),this.on_delegate_toggle_change()}on_delegate_toggle_change(){let t=0;for(let[o,i]of Object.entries(this.rate_yourself_toggle))i||t++;this.n_delegated=t}show_stats(){if(!this.ready)return;this.G.L.entry("PollPage.show_stats");const t=this.p,o=t.T,i=t.myvid,a=o.approval_scores_map,s=o.shares_map,_=o.approvals_map;this.votedfor=o.votes_map.get(this.p.myvid);for(const p of t.oids){const g=a.get(p)/o.n_not_abstaining||0,c=s.get(p),x=document.getElementById("bar_"+p),f=document.getElementById("pie_"+p),u=this.pieradius,$n=u*Math.sin(this.two_pi*c),Kn=u*(1-Math.cos(this.two_pi*c)),Xn=c>.5?1:0;if(this.approved[p]=_.get(p).get(i),x?(x.width.baseVal.valueAsString=(100*g).toString()+"%",x.x.baseVal.valueAsString=(100*(1-g)).toString()+"%"):this.G.L.warn("PollPage.show_stats couldn't change slider bar",p),f?f.setAttribute("d",c<1?"M 21,25 l 0,-"+u+" a "+u+" "+u+" 0 "+Xn+" 1 "+$n+" "+Kn+" Z":"M 21,25 l 0,-20 a 20 20 0 1 1 0 "+2*u+" a 20 20 0 1 1 0 "+-2*u+" Z"):this.G.L.warn("PollPage.show_stats couldn't change pie piece",p),this.set_slider_color(p,t.get_my_proxy_rating(p)),this.rate_yourself_toggle[p]){const U=document.getElementById("del_needle_"+p),k=document.getElementById("del_knob_"+p),Q=this.G.Del.get_potential_effective_delegate(this.pid,p);if(Q){const v=(this.p.proxy_ratings_map.get(p)||new Map).get(Q)||0;this.G.L.trace("PollPage.show_stats rating",v),U&&(U.x2.baseVal.valueAsString=v.toString()+"%"),k&&(k.cx.baseVal.valueAsString=v.toString()+"%")}}}}update_order(t=!1){return(0,m.mG)(this,void 0,void 0,function*(){if(this.oidsorted.length!=this.p.oids.length)this.needs_refresh=!0;else for(let o in this.oidsorted)if(this.oidsorted[o]!=this.p.T.oids_descending[o]){this.needs_refresh=!0;break}if(t||this.needs_refresh&&!this.refresh_paused){if(!t){const o=yield this.loadingController.create({message:this.translate.instant("poll.sorting"),spinner:"crescent",duration:100});yield o.present(),yield o.onDidDismiss()}this.oidsorted=[...this.p.T.oids_descending],this.sortingcounter++,this.needs_refresh=!1,setTimeout(()=>{this.show_stats.bind(this)();for(let o in this.oidsorted){const i=this.oidsorted[o],a=document.getElementById("_slider_"+this.oidsorted[o]+"_"+this.sortingcounter),s=c=>{this.onRatingColPointerdown.bind(this)(i,c)},_=c=>{this.onRatingColPointerup.bind(this)(i,c)},p=c=>{this.onRatingColTouchstart.bind(this)(i,c)},g=c=>{this.onRatingColTouchup.bind(this)(i,c)};if(a){if(this.listeners.has(a)){this.G.L.trace("PollPage.update_order removing old event listeners");const c=this.listeners.get(a);a.removeEventListener("pointerdown",c[0],!0),a.removeEventListener("pointerup",c[1],!0),a.removeEventListener("touchstart",c[2],!0),a.removeEventListener("touchup",c[3],!0)}a.addEventListener("pointerdown",s,!0),a.addEventListener("pointerup",_,!0),a.addEventListener("touchstart",p,!0),a.addEventListener("touchup",g,!0),this.listeners.set(a,[s,_,p,g])}}this.G.L.trace("PollPage.update_order registered event listeners",this.sortingcounter)},100)}})}set_slider_color(t,o){this.slidercolor[t]=0==o?"vodlered":this.votedfor==t?"vodledarkgreen":o+100*(this.p.T.approval_scores_map.get(t)/this.p.T.n_not_abstaining||0)<=100?"vodleblue":"vodlegreen"}expand(t){this.option_expanded[t]=!this.option_expanded[t]}get_slider(t){return this.G.L.trace("PollPage.get_slider ",this.sortingcounter),document.getElementById("slider_"+t+"_"+this.sortingcounter)}set_slider_values(){for(let t of this.p.oids)this.get_slider(t).value=this.p.proxy_ratings_map.get(t).get(this.p.myvid).toString()}get_slider_value(t){const o=this.get_slider(t);return o?Number(o.value):0}apply_sliders_rating(t){(!this.delegate||this.rate_yourself_toggle[t])&&this.p.set_my_own_rating(t,Math.round(this.get_slider_value(t)),!1),this.show_stats()}onRatingSliderFocus(t){return this.G.L.entry("PollPage.onRatingSliderFocus"),!0}onRatingSliderChange(t){var o=this.get_slider(t),i=Number(o.value);return this.set_slider_color(t,i),this.apply_sliders_rating(t),!0}onRatingSliderBlur(t){return this.G.L.entry("PollPage.onRatingSliderBlur"),this.rating_change_ended(t),!0}rating_change_ended(t){this.G.L.entry("PollPage.rating_change_ended"),this.p.have_acted=!0,(!this.delegate||this.rate_yourself_toggle[t])&&this.p.set_my_own_rating(t,Math.round(this.get_slider_value(t)),!0),this.update_order(),this.G.D.save_state()}onRatingColPointerdown(t,o){if(this.p.end_if_past_due(),!this.p.allow_voting)return!1;this.dragged_oid=t;const i=this.get_knob_pos(t),a=o?o instanceof PointerEvent?o.clientX:o.touches[0].clientX:0;return this.G.L.entry("onRatingColPointerdown",this.sortingcounter,t,this.p.options[t].name,a,i),!(a<i.left||a>i.right)||(this.swallow_event(o),!1)}onRatingColTouchstart(t,o){if(this.p.end_if_past_due(),!this.p.allow_voting)return!1;this.dragged_oid=t;const i=this.get_knob_pos(t),a=o?o instanceof PointerEvent?o.clientX:o.touches[0].clientX:0;return this.G.L.entry("onRatingColTouchstart",t,a,i),!(a<i.left||a>i.right)||(this.swallow_event(o),!1)}onRatingColPointerup(t,o){return this.p.end_if_past_due(),!!this.p.allow_voting&&(this.G.L.entry("onRatingColPointerup",t,this.dragged_oid),t!=this.dragged_oid?(this.swallow_event(o),this.dragged_oid=null,!1):(this.rating_change_ended(t),this.dragged_oid=null,!0))}onRatingColTouchup(t,o){return this.p.end_if_past_due(),!!this.p.allow_voting&&(this.G.L.entry("onRatingColTouchup",t,this.dragged_oid),t!=this.dragged_oid?(this.swallow_event(o),this.dragged_oid=null,!1):(this.rating_change_ended(t),this.dragged_oid=null,!0))}onRatingColClick(t,o){if(this.p.end_if_past_due(),!this.p.allow_voting)return!1;const i=this.get_knob_pos(t),a=o.clientX;return this.G.L.entry("onRatingColClick",t,this.p.options[t].name,a,i),!(a<i.left||a>i.right)||(this.swallow_event(o),!1)}onBodyPointerup(t){return this.p.end_if_past_due(),!!this.p.allow_voting&&(this.dragged_oid&&(this.G.L.entry("onBodyPointerup"),this.onRatingColPointerup(this.dragged_oid,t)),!0)}onBodyTouchup(t){return this.p.end_if_past_due(),!!this.p.allow_voting&&(this.dragged_oid&&(this.G.L.entry("onBodyTouchup"),this.onRatingColTouchup(this.dragged_oid,t)),!0)}get_knob_pos(t){const o=this.get_slider(t),i=this.get_screen_coords(o),a=this.get_slider_value(t),s=i.left+(i.right-i.left)*a/100;return this.G.L.trace("pointer slider value",a),{left:s-20,right:s+20}}get_screen_coords(t){return t?t.getBoundingClientRect():new DOMRect}swallow_event(t){this.G.L.trace("swallowing event",t),t&&(t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault())}checkmark_clicked(){return(0,m.mG)(this,void 0,void 0,function*(){yield(yield this.alertCtrl.create({message:this.translate.instant("poll.checkmark-clicked"),buttons:[{text:this.translate.instant("OK"),role:"Ok",handler:()=>{}}]})).present()})}delegate_dialog(t){this.p.end_if_past_due(),this.p.allow_voting&&this.popover.create({event:t,component:H.DelegationDialogPage,translucent:!0,showBackdrop:!0,componentProps:{parent:this}}).then(o=>{o.present()})}assist_dialog(){return(0,m.mG)(this,void 0,void 0,function*(){if(this.p.end_if_past_due(),this.p.allow_voting){const t=yield this.modalController.create({component:L.AssistPage,componentProps:{P:this},backdropDismiss:!1});t.present(),this.currentModal=t}})}explain_approval_dialog(t){this.modalController.create({component:q.ExplainApprovalPage,cssClass:"explain-approval",showBackdrop:!0,componentProps:{parent:this,oid:t},swipeToClose:!0,presentingElement:this.routerOutlet.nativeEl}).then(o=>{o.present()})}revoke_delegation_dialog(){return(0,m.mG)(this,void 0,void 0,function*(){this.p.end_if_past_due(),this.p.allow_voting&&(yield(yield this.alertCtrl.create({message:this.translate.instant("poll.revoke_delegation",{nickname:this.delegate}),buttons:[{text:this.translate.instant("cancel"),role:"Cancel",handler:()=>{console.log("Confirm Cancel.")}},{text:this.translate.instant("OK"),role:"Ok",handler:()=>{this.G.Del.revoke_delegation(this.pid,this.G.Del.get_my_outgoing_dids_cache(this.pid).get("*"),"*"),this.delegate=null,this.delegation_status="none",this.update_delegation_info(),this.G.D.save_state()}}]})).present())})}add_option(t){this.p.end_if_past_due(),this.p.allow_voting&&this.popover.create({component:D.AddoptionDialogPage,translucent:!0,showBackdrop:!0,cssClass:"add-option-class",componentProps:{parent:this}}).then(o=>{o.present()})}glossary(t){this.glossary_key=t,this.show_glossary=!0}dismiss_glossary(){this.show_glossary=!1}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.sBO),n.Y36(h.F0),n.Y36(h.gz),n.Y36(r.jP),n.Y36(r.HT),n.Y36(r.Br),n.Y36(r.Dh),n.Y36(r.IN),n.Y36(P.sK),n.Y36(M.U))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-poll"]],viewQuery:function(t,o){if(1&t&&n.Gf(r.W2,5),2&t){let i;n.iGM(i=n.CRH())&&(o.content=i.first)}},decls:13,vars:8,consts:[[3,"pointerup","touchup"],[2,"padding-right","11px","padding-left","16px"],["slot","start",2,"margin-right","0px","margin-left","0px","padding-left","0px","padding-right","0px"],[2,"padding-left","0px!important","padding-right","0px!important","position","relative","left","-9px"],["style","font-weight: bold; font-size: larger; padding-left: 0px;",3,"innerHtml",4,"ngIf"],[4,"ngIf"],["slot","end"],["name","crescent","color","grey",4,"ngIf"],["class","ion-no-margin ion-no-padding","fill","clear",3,"click",4,"ngIf"],["shape","round","size","large","color","primary","class","ion-no-padding ion-no-margin",3,"click",4,"ngIf"],[3,"scrollEvents","pointerup","ionScroll",4,"ngIf"],["style","box-shadow: 0px -3px 4px #eeeeee;",4,"ngIf"],[2,"font-weight","bold","font-size","larger","padding-left","0px",3,"innerHtml"],[3,"innerHtml"],["name","cloud-offline-outline","color","grey",2,"position","relative","bottom","-1px"],["name","alert-outline","color","grey"],["name","crescent","color","grey"],["fill","clear",1,"ion-no-margin","ion-no-padding",3,"click"],["size","large","name","checkmark","color","grey","slot","icon-only"],["shape","round","size","large","color","primary",1,"ion-no-padding","ion-no-margin",3,"click"],[3,"innerHtml",4,"ngIf"],["shape","round","fill","solid","color","primary",1,"ion-no-margin","ion-no-padding",2,"position","relative","right","-4px"],["src","./assets/icon/delegate-simple.svg",1,"ion-no-margin","ion-no-padding"],[3,"scrollEvents","pointerup","ionScroll"],["lines","full",1,"ion-no-margin","ion-no-padding"],[4,"ngFor","ngForOf"],["color","primary","lines","none",1,"ion-no-margin"],[1,"ion-no-padding","ion-no-margin"],["color","primary","class","ion-padding-left ion-padding-right","style","cursor: pointer; --min-height: 0!important;","lines","none",3,"click",4,"ngIf"],["color","primary",1,"ion-no-margin","ion-padding-left","ion-padding-right"],[1,"ion-no-padding","ion-no-margin",2,"padding-bottom","8px"],["size","small","fill","clear","class","ion-float-right ion-no-padding ion-no-margin","style","position: relative; top: 5px; right: 10px; margin-left:20px;",3,"click",4,"ngIf"],[2,"white-space","nowrap"],["class","ion-no-margin","style","position: relative; bottom: -5.5px; font-size: 11.5px;","color","danger",3,"innerHtml",4,"ngIf"],["color","light",2,"position","relative","top","2px",3,"name"],["color","light","name","people-outline",2,"position","relative","top","2px"],[1,"externallink",3,"innerHtml","click"],["class","ion-no-margin","style","position: absolute; right:10px; bottom:7px; font-size: 11.5px; padding-top:2px","color","success",4,"ngIf"],["color","light","style","cursor: pointer;",3,"click",4,"ngIf"],["color","light",4,"ngIf"],["color","warning",4,"ngIf"],["lines","none",1,"ion-no-padding","ion-no-margin",2,"--min-height","0px!important","font-weight","bold"],[2,"padding-top","8px!important","padding-left","6px","width","68px!important","color","#769596","text-align","center",3,"click"],[1,"externallink",2,"width","100%!important",3,"innerHtml"],[2,"padding-left","6px!important","padding-top","8px!important","flex-grow","1","color","#769596",3,"click"],[1,"externallink",3,"innerHtml"],[3,"click"],["name","caret-down",2,"position","relative","top","2px"],["style","align-items:flex-start",4,"ngFor","ngForOf"],[1,"ion-no-margin","ion-no-padding"],["lines","none","color","warning",1,"ion-no-margin","ion-no-padding","item-text-wrap"],["slot","end","fill","clear","size","small",1,"ion-no-margin","ion-no-padding",3,"click"],["slot","icon-only","name","close-outline",2,"color","gray!important"],["color","primary","lines","none",1,"ion-padding-left","ion-padding-right",2,"cursor","pointer","--min-height","0!important",3,"click"],[1,"ion-no-padding","ion-padding-bottom","ion-no-margin",2,"width","100%"],["name","open-outline",2,"position","relative","top","2px"],["size","small","fill","clear",1,"ion-float-right","ion-no-padding","ion-no-margin",2,"position","relative","top","5px","right","10px","margin-left","20px",3,"click"],["style","color:#88e950; white-space: normal; text-align: right; font-size: 11.5px;",3,"innerHtml",4,"ngIf"],["shape","round","color","success",1,"ion-no-padding","ion-no-margin"],["name","color-wand-outline","slot","icon-only",2,"margin","5px"],[2,"color","#88e950","white-space","normal","text-align","right","font-size","11.5px",3,"innerHtml"],["color","danger",1,"ion-no-margin",2,"position","relative","bottom","-5.5px","font-size","11.5px",3,"innerHtml"],["color","success",1,"ion-no-margin",2,"position","absolute","right","10px","bottom","7px","font-size","11.5px","padding-top","2px"],["name","bulb-outline",1,"ion-no-padding","ion-no-margin",2,"position","relative","top","1.5px"],["color","danger",4,"ngIf"],["color","secondary",4,"ngIf"],["color","danger"],[2,"font-size","medium",3,"innerHtml"],[2,"cursor","pointer","white-space","nowrap",3,"click"],["name","help-circle-outline",2,"font-size","16px","position","relative","top","4px"],[3,"innerHtml","click"],["color","warning"],[1,"externallink",2,"font-size","medium",3,"innerHtml"],["name","help-circle-outline",2,"font-size","16px","position","relative","top","3px"],["color","secondary"],["color","light"],["color","light",2,"cursor","pointer",3,"click"],["size","small","color","primary",3,"name"],[1,"ion-no-padding","ion-no-margin",2,"padding-top","5px","padding-bottom","6px","cursor","pointer",3,"click"],[1,"ion-no-margin","ion-padding-right"],["size","smaller",1,"ion-no-margin",2,"color","black","position","relative","left","-2px","top","2px",3,"name"],[1,"ion-text-right"],["outline","true",3,"routerLink",4,"ngFor","ngForOf"],["outline","true",3,"routerLink"],["name","mail-open-outline","size","small",2,"color","grey"],[1,"ion-no-padding","ion-no-margin","ion-align-items-center"],[2,"font-size","medium"],["size","auto",1,"ion-no-margin"],["fill","clear",3,"disabled","click"],["name","trash-outline",2,"color","black"],["fill","clear",3,"click"],["size","auto",1,"ion-no-padding","ion-no-margin","ion-padding-left","ion-text-right",2,"padding-bottom","3px"],["name","arrow-down-outline",2,"position","relative","top","3px"],[2,"align-items","flex-start"],["size","auto",1,"ion-no-padding","ion-no-margin"],[2,"width","60px!important"],["xmlns","http://www.w3.org/2000/svg","width","60px","height","60px",2,"position","absolute","bottom","0px"],["cx","21","cy","25","r","20","fill","#bce4e5","stroke","none"],["d","M 21,25 l 0,-20 a 20 20 0 0 1 0 0 Z","fill","#9abcbd",3,"id"],["x1","21","y1","48","x2","21","y2","60","stroke","#769596","stroke-width","1","stroke-dasharray","1 1"],[1,"ion-no-padding","ion-no-margin",2,"padding-top","8px","cursor","pointer","position","relative","left","-6px","z-index","20",3,"click"],[2,"display","none"],[1,"ion-no-padding","ion-no-margin",2,"max-width","100%!important"],["size","small",1,"ion-no-margin",2,"color","black","position","relative","top","3px",3,"name"],[1,"ion-no-padding","ion-no-margin",3,"id","click","pointerdown","touchstart","touchup","pointerup"],["mode","md","pin","true","pinFormatter","(v)=>100-v","min","0","max","100","step","1","snaps","true","ticks","false",1,"ion-no-padding","ion-no-margin",3,"disabled","id","color","value","ionFocus","ionChange","ionBlur"],["slot","end",1,"ion-no-padding","ion-no-margin",2,"margin-right","12px"],[2,"position","absolute","bottom","0px","right","11px","z-index","-10","width","100%","padding-left","11px"],["xmlns","http://www.w3.org/2000/svg","width","100%","height","35px"],["x","100%","width","0%","y","8","height","18","fill","#bce4e5","stroke","none",3,"id"],["x1","100%","y1","0","x2","100%","y2","34","fill","none","stroke","#bce4e5","stroke-width","5"],["x1","0%","x2","100%","y1","17","y2","17","stroke","#b4dbdb","stroke-width","2","stroke-dasharray","2 2"],[2,"position","absolute","bottom","0px","right","11px","z-index","10","width","100%","padding-left","11px","pointer-events","none"],["xmlns","http://www.w3.org/2000/svg","width","100%","height","45px"],["x","100%","y","15","text-anchor","end","fill","#9abcbd",2,"font-weight","bold","font-size","12px",3,"innerHtml"],[2,"position","absolute","top","-2px","right","11px","z-index","-5","width","100%","padding-left","11px"],["xmlns","http://www.w3.org/2000/svg","width","100%","height","15px"],["x1","0","y1","8","x2","50%","y2","8","fill","none","stroke","#9abcbd","stroke-width","2","stroke-dasharray","3 2",3,"id"],["cx","50%","cy","8","r","5","fill","#9abcbd","stroke","none",3,"id"],["class","ion-no-margin ion-no-padding","size","auto",4,"ngIf"],[3,"id","expanded"],[1,"ion-no-padding","ion-padding-bottom","ion-no-margin"],[2,"color","#769596"],[2,"white-space","nowrap",3,"innerHtml"],[2,"color","#4c822e",3,"innerHtml"],[2,"color","#9abcbd","white-space","nowrap"],[2,"color","#62a73b",3,"innerHtml"],["style","color:#9abcbd",4,"ngIf"],["size","auto",1,"ion-no-margin","ion-no-padding"],[1,"ion-no-margin","ion-no-padding","ion-padding-bottom","ion-padding-top",2,"position","relative","top","-8px",3,"id","disabled","ngModel","ionChange","ngModelChange"],[2,"position","absolute","z-index","10","top","22px","right","1px","text-align","right"],[2,"color","#9abcbd"],["lines","none",1,"ion-no-padding",2,"padding-left","10px","padding-top","10px"],["size","small","fill","clear","color","primary",3,"click"],["name","add"],["fill","clear",1,"ion-no-padding","ion-no-margin",3,"innerHtml","click"],["lines","none",2,"padding-bottom","10px!important"],["lines","none",1,"ion-text-right"],[2,"color","grey"],["color","light",3,"ngModel","ngModelChange"],[2,"box-shadow","0px -3px 4px #eeeeee"],["fill","clear",1,"ion-float-right","ion-margin-right","ion-margin-left","ion-no-padding",2,"position","relative","right","-6px","top","3px",3,"click"],["slot","icon-only","name","close","color","primary",1,"ion-no-margin","ion-no-padding"]],template:function(t,o){1&t&&(n.TgZ(0,"ion-header",0),n.NdJ("pointerup",function(a){return o.onBodyPointerup(a)})("touchup",function(a){return o.onBodyTouchup(a)}),n.TgZ(1,"ion-toolbar",1)(2,"ion-buttons",2),n._UZ(3,"ion-menu-button",3),n.qZA(),n.YNc(4,Y,2,3,"ion-text",4),n.YNc(5,E,3,1,"ion-text",5),n.TgZ(6,"ion-buttons",6),n.YNc(7,F,3,0,"ng-container",5),n.YNc(8,z,1,0,"ion-spinner",7),n.YNc(9,R,2,0,"ion-button",8),n.YNc(10,O,4,1,"ion-button",9),n.qZA()()(),n.YNc(11,Bn,74,48,"ion-content",10),n.YNc(12,On,7,3,"ion-footer",11)),2&t&&(n.xp6(4),n.Q6J("ngIf",o.scroll_position<70),n.xp6(1),n.Q6J("ngIf",o.scroll_position>=70),n.xp6(2),n.Q6J("ngIf",!o.window.navigator.onLine),n.xp6(1),n.Q6J("ngIf",!!o.p&&o.p.syncing&&o.window.navigator.onLine),n.xp6(1),n.Q6J("ngIf",!!o.p&&o.p.have_acted&&!o.p.syncing&&o.window.navigator.onLine),n.xp6(1),n.Q6J("ngIf",!!o.p&&"agreed"!=o.delegation_status&&o.p.allow_voting),n.xp6(1),n.Q6J("ngIf",o.ready&&!!o.p),n.xp6(1),n.Q6J("ngIf",o.show_glossary))},directives:[r.Gu,r.sr,r.Sm,r.fG,Z.O5,r.yW,r.gu,r.PQ,r.YG,r.W2,r.q_,Z.sg,r.PM,r.FN,r.Ie,r.Q$,r.jY,r.Nd,r.wI,r.yp,r.hM,r.YI,h.rH,r.pK,r.j9,r.I_,r.QI,r.ho,r.w,w.JJ,w.On,G,r.W4,r.fr],pipes:[P.X$],styles:['@charset "UTF-8";']}),e})();const Sn=[{path:"",component:A}];let Vn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[h.Bz.forChild(Sn)],h.Bz]}),e})();var Wn=d(4496);let jn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[Z.ez,w.u5,r.Pc,Vn,Wn.m,P.aw.forChild()]]}),e})()}}]);
//# sourceMappingURL=186.60646d26eebb8048.js.map